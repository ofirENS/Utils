<!-- saved from url=(0014)about:internet -->
<pre class="code">
<span class="srcline"><span class="lineno"><a href="135,1" id="srcline1"> 1</a></span><span class="line"><span class="keyword">function</span> <span class="var type1" id="S2T20U3">regTerm</span> = GetRegularizationTerm(<span class="var type1" id="S3T1U6">N</span>,<span class="var type1" id="S4T1U7">order</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="135,2" id="srcline2"> 2</a></span><span class="line"><span class="comment">% Get regularization term of order = [0,1, or 2]</span></span></span>
<span class="srcline"><span class="lineno"><a href="135,3" id="srcline3"> 3</a></span><span class="line"><span class="keyword">if</span> <span class="mxinfo" id="T3:U4"><span class="var type1" id="S4T1U11">order</span>==<span class="mxinfo" id="T1:U6">0</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="135,4" id="srcline4"> 4</a></span><span class="line">    <span class="mxinfo" id="T20:U7"><span class="var type1" id="S2T20U15">regTerm</span> = <span class="mxinfo" id="T20:U9">eye(<span class="var type1" id="S3T1U18">N</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="135,5" id="srcline5"> 5</a></span><span class="line"><span class="keyword">elseif</span> <span class="mxinfo" id="T3:U11"><span class="var type1" id="S4T1U21">order</span>==<span class="mxinfo" id="T1:U13">1</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="135,6" id="srcline6"> 6</a></span><span class="line">    <span class="mxinfo" id="T20:U14"><span class="var type1" id="S2T20U25">regTerm</span>      = <span class="mxinfo" id="T20:U16"><span class="mxinfo" id="T1:U17">2</span>*<span class="mxinfo" id="T20:U18">eye(<span class="var type1" id="S3T1U30">N</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="135,7" id="srcline7"> 7</a></span><span class="line">    <span class="mxinfo" id="T20:U20"><span class="var type1" id="S2T20U33">regTerm</span>      = <span class="mxinfo" id="T20:U22"><span class="mxinfo" id="T20:U23"><span class="var type1" id="S2T20U36">regTerm</span>-<span class="mxinfo" id="T20:U25">diag(<span class="mxinfo" id="T2:U26">ones(<span class="mxinfo" id="T1:U27">1</span>,<span class="mxinfo" id="T1:U28"><span class="var type1" id="S3T1U43">N</span>-<span class="mxinfo" id="T1:U30">1</span></span>)</span>,-1)</span></span>-<span class="mxinfo" id="T20:U31">diag(<span class="mxinfo" id="T2:U32">ones(<span class="mxinfo" id="T1:U33">1</span>,<span class="mxinfo" id="T1:U34"><span class="var type1" id="S3T1U53">N</span>-<span class="mxinfo" id="T1:U36">1</span></span>)</span>,1)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="135,8" id="srcline8"> 8</a></span><span class="line">    <span class="mxinfo" id="T1:U37"><span class="mxinfo" id="T1:U38"><span class="var type1" id="S2T20U59">regTerm</span>(<span class="mxinfo" id="T1:U40">1</span>,<span class="mxinfo" id="T1:U41">1</span>)</span> = <span class="mxinfo" id="T1:U42">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="135,9" id="srcline9"> 9</a></span><span class="line">    <span class="mxinfo" id="T1:U43"><span class="mxinfo" id="T1:U44"><span class="var type1" id="S2T20U66">regTerm</span>(<span class="var type1" id="S3T1U67">N</span>,<span class="var type1" id="S3T1U68">N</span>)</span> = <span class="mxinfo" id="T1:U48">1</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="135,10" id="srcline10">10</a></span><span class="line"><span class="keyword">elseif</span> <span class="mxinfo" id="T3:U49"><span class="var type1" id="S4T1U72">order</span>==<span class="mxinfo" id="T1:U51">2</span></span></span></span>
<span class="srcline"><span class="lineno"><a href="135,11" id="srcline11">11</a></span><span class="line">    <span class="mxinfo" id="T20:U52"><span class="var type1" id="S2T20U76">regTerm</span> = <span class="mxinfo" id="T20:U54">zeros(<span class="var type1" id="S3T1U79">N</span>)</span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="135,12" id="srcline12">12</a></span><span class="line">    <span class="mxinfo" id="T20:U56"><span class="var type1" id="S2T20U82">regTerm</span> = <span class="mxinfo" id="T20:U58"><span class="mxinfo" id="T20:U59"><span class="var type1" id="S2T20U85">regTerm</span>-<span class="mxinfo" id="T20:U61"><span class="mxinfo" id="T1:U62">4</span>*<span class="mxinfo" id="T20:U63">diag(<span class="mxinfo" id="T2:U64">ones(<span class="mxinfo" id="T1:U65">1</span>,<span class="mxinfo" id="T1:U66"><span class="var type1" id="S3T1U94">N</span>-<span class="mxinfo" id="T1:U68">1</span></span>)</span>,-1)</span></span></span>-<span class="mxinfo" id="T20:U69"><span class="mxinfo" id="T1:U70">4</span>*<span class="mxinfo" id="T20:U71">diag(<span class="mxinfo" id="T2:U72">ones(<span class="mxinfo" id="T1:U73">1</span>,<span class="mxinfo" id="T1:U74"><span class="var type1" id="S3T1U106">N</span>-<span class="mxinfo" id="T1:U76">1</span></span>)</span>,1)</span></span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="135,13" id="srcline13">13</a></span><span class="line">    <span class="mxinfo" id="T20:U77"><span class="var type1" id="S2T20U111">regTerm</span> = <span class="mxinfo" id="T20:U79"><span class="mxinfo" id="T20:U80"><span class="var type1" id="S2T20U114">regTerm</span> +<span class="mxinfo" id="T20:U82">diag(<span class="mxinfo" id="T2:U83">ones(<span class="mxinfo" id="T1:U84">1</span>,<span class="mxinfo" id="T1:U85"><span class="var type1" id="S3T1U121">N</span>-<span class="mxinfo" id="T1:U87">2</span></span>)</span>,-2)</span></span>+<span class="mxinfo" id="T20:U88">diag(<span class="mxinfo" id="T2:U89">ones(<span class="mxinfo" id="T1:U90">1</span>,<span class="mxinfo" id="T1:U91"><span class="var type1" id="S3T1U131">N</span>-<span class="mxinfo" id="T1:U93">2</span></span>)</span>,2)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="135,14" id="srcline14">14</a></span><span class="line">    <span class="mxinfo" id="T1:U94"><span class="mxinfo" id="T1:U95"><span class="var type1" id="S2T20U137">regTerm</span>(<span class="mxinfo" id="T1:U97">1</span>,<span class="mxinfo" id="T1:U98">2</span>)</span> = <span class="mxinfo" id="T1:U99">-<span class="mxinfo" id="T1:U100">2</span></span></span>; <span class="mxinfo" id="T1:U101"><span class="mxinfo" id="T1:U102"><span class="var type1" id="S2T20U145">regTerm</span>(<span class="mxinfo" id="T1:U104">2</span>,<span class="mxinfo" id="T1:U105">1</span>)</span> = <span class="mxinfo" id="T1:U106">-<span class="mxinfo" id="T1:U107">2</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="135,15" id="srcline15">15</a></span><span class="line">    <span class="mxinfo" id="T1:U108"><span class="mxinfo" id="T1:U109"><span class="var type1" id="S2T20U153">regTerm</span>(<span class="var type1" id="S3T1U154">N</span>,<span class="mxinfo" id="T1:U112"><span class="var type1" id="S3T1U156">N</span>-<span class="mxinfo" id="T1:U114">1</span></span>)</span> = <span class="mxinfo" id="T1:U115">-<span class="mxinfo" id="T1:U116">2</span></span></span>; <span class="mxinfo" id="T1:U117"><span class="mxinfo" id="T1:U118"><span class="var type1" id="S2T20U163">regTerm</span>(<span class="mxinfo" id="T1:U120"><span class="var type1" id="S3T1U165">N</span>-<span class="mxinfo" id="T1:U122">1</span></span>,<span class="var type1" id="S3T1U167">N</span>)</span> = <span class="mxinfo" id="T1:U124">-<span class="mxinfo" id="T1:U125">2</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="135,16" id="srcline16">16</a></span><span class="line">    </span></span>
<span class="srcline"><span class="lineno"><a href="135,17" id="srcline17">17</a></span><span class="line">    <span class="mxinfo" id="T20:U126"><span class="var type1" id="S2T20U172">regTerm</span>=<span class="mxinfo" id="T20:U128"><span class="var type1" id="S2T20U174">regTerm</span>- <span class="mxinfo" id="T20:U130">diag(<span class="mxinfo" id="T21:U131">sum(<span class="var type1" id="S2T20U179">regTerm</span>,2)</span>)</span></span></span>;</span></span>
<span class="srcline"><span class="lineno"><a href="135,18" id="srcline18">18</a></span><span class="line"><span class="keyword">else</span></span></span>
<span class="srcline"><span class="lineno"><a href="135,19" id="srcline19">19</a></span><span class="line">    error(<span class="string">'order not supported'</span>)</span></span>
<span class="srcline"><span class="lineno"><a href="135,20" id="srcline20">20</a></span><span class="line"><span class="keyword">end</span></span></span>
<span class="srcline"><span class="lineno"><a href="135,21" id="srcline21">21</a></span><span class="line"><span class="keyword">end</span></span></span>
</pre>
